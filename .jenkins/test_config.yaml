# THIS FILE WAS GENERATED USING generate_test_config.py
# DO NOT EDIT THIS FILE DIRECTLY
# Please add tests to test_config_template.yaml and re-generate this file with:
# python generate_test_config.py --template-path test_config_template.yaml --output-path test_config.yaml
stages:
- name: test_gsm8k_small_models
  steps:
  - name: eager_gsm8k_small_tp1_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-small.txt
      -t 1
  - name: eager_gsm8k_small_tp1_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-small.txt
      -t 1
  - name: eager_gsm8k_small_tp1_v1_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-small.txt
      -t 1
  - name: eager_gsm8k_small_tp1_v1_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-small.txt
      -t 1
  - name: lazy_gsm8k_small_tp1_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-small.txt
      -t 1
  - name: lazy_gsm8k_small_tp1_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-small.txt
      -t 1
  - name: lazy_gsm8k_small_tp1_v1_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-small.txt
      -t 1
  - name: lazy_gsm8k_small_tp1_v1_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-small.txt
      -t 1
  - name: eager_gsm8k_small_tp2_v0_g2.s
    flavor: g2.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-small.txt -t 2
  - name: eager_gsm8k_small_tp2_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-small.txt -t 2
  - name: eager_gsm8k_small_tp2_v1_g2.s
    flavor: g2.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-small.txt -t 2
  - name: eager_gsm8k_small_tp2_v1_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-small.txt -t 2
  - name: lazy_gsm8k_small_tp2_v0_g2.s
    flavor: g2.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-small.txt -t 2
  - name: lazy_gsm8k_small_tp2_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-small.txt -t 2
  - name: lazy_gsm8k_small_tp2_v1_g2.s
    flavor: g2.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-small.txt -t 2
  - name: lazy_gsm8k_small_tp2_v1_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-small.txt -t 2
  - name: eager_gsm8k_small_g3_tp1_part2_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-small-2.txt
      -t 1
  - name: lazy_gsm8k_small_g3_tp1_part2_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-small-2.txt
      -t 1
  - name: eager_gsm8k_small_g3_tp1_part3_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-small-3.txt
      -t 1
  - name: lazy_gsm8k_small_g3_tp1_part3_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-small-3.txt
      -t 1
  - name: eager_gsm8k_g2_deepseek-v2-lite_tp1_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-deepseek.txt
      -t 1
  - name: lazy_gsm8k_g2_deepseek-v2-lite_tp1_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-deepseek.txt
      -t 1
- name: test_gsm8k_large_models
  steps:
  - name: eager_gsm8k_large_g3_tp2_part1_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-large.txt -t 2
  - name: eager_gsm8k_large_g3_tp2_part1_v1_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-large.txt -t 2
  - name: lazy_gsm8k_large_g3_tp2_part1_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-large.txt -t 2
  - name: lazy_gsm8k_large_g3_tp2_part1_v1_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-large.txt -t 2
  - name: eager_gsm8k_large_g3_tp2_part2_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-large-2.txt -t 2
  - name: eager_gsm8k_large_g3_tp2_part2_v1_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-large-2.txt -t 2
  - name: lazy_gsm8k_large_g3_tp2_part2_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-large-2.txt -t 2
  - name: lazy_gsm8k_large_g3_tp2_part2_v1_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-large-2.txt -t 2
  - name: eager_gsm8k_large_g2_tp4_v0_g2.m
    flavor: g2.m
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-large.txt -t 4
  - name: eager_gsm8k_large_g2_tp4_v1_g2.m
    flavor: g2.m
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-large.txt -t 4
  - name: lazy_gsm8k_large_g2_tp4_v0_g2.m
    flavor: g2.m
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-large.txt -t 4
  - name: lazy_gsm8k_large_g2_tp4_v1_g2.m
    flavor: g2.m
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && export VLLM_CONTIGUOUS_PA=false && cd .jenkins/lm-eval-harness && bash run-tests.sh
      -c configs/models-large.txt -t 4
- name: test_gsm8k_fp8
  steps:
  - name: eager_gsm8k_small_g3_tp1_fp8_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-fp8-g3-tp1.txt
      -t 1
  - name: lazy_gsm8k_small_g3_tp1_fp8_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-fp8-g3-tp1.txt
      -t 1
  - name: eager_gsm8k_small_g3_tp2_fp8_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-fp8.txt
      -t 2
  - name: lazy_gsm8k_small_g3_tp2_fp8_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-fp8.txt
      -t 2
- name: test_gsm8k_mss
  steps:
  - name: eager_gsm8k_small_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-mss.txt
      -t 1
  - name: eager_gsm8k_small_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-mss.txt
      -t 1
  - name: lazy_gsm8k_small_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-mss.txt
      -t 1
  - name: lazy_gsm8k_small_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-mss.txt
      -t 1
  - name: eager_gsm8k_small_tp2_mss_v0_g2.s
    flavor: g2.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-mss.txt
      -t 2
  - name: eager_gsm8k_small_tp2_mss_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-mss.txt
      -t 2
  - name: lazy_gsm8k_small_tp2_mss_v0_g2.s
    flavor: g2.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-mss.txt
      -t 2
  - name: lazy_gsm8k_small_tp2_mss_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/lm-eval-harness && bash run-tests.sh -c configs/models-mss.txt
      -t 2
- name: test_gsm8k_spec_decode
  steps:
  - name: eager_gsm8k_small_g2_tp1_mlp_spec_decode_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && VLLM_CONTIGUOUS_PA=false pytest -v tests/spec_decode/e2e/test_mlp_correctness.py::test_mlp_e2e_greedy_correctness
  - name: lazy_gsm8k_small_g2_tp1_mlp_spec_decode_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && VLLM_CONTIGUOUS_PA=false pytest -v tests/spec_decode/e2e/test_mlp_correctness.py::test_mlp_e2e_greedy_correctness
  - name: eager_gsm8k_small_g2_tp1_medusa_spec_decode_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && VLLM_CONTIGUOUS_PA=false pytest -v tests/spec_decode/e2e/test_medusa_correctness.py::test_medusa_e2e_greedy_correctness
  - name: lazy_gsm8k_small_g2_tp1_medusa_spec_decode_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && VLLM_CONTIGUOUS_PA=false pytest -v tests/spec_decode/e2e/test_medusa_correctness.py::test_medusa_e2e_greedy_correctness
  - name: eager_gsm8k_small_g2_tp1_eagle_spec_decode_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && VLLM_CONTIGUOUS_PA=false pytest -v tests/spec_decode/e2e/test_eagle_correctness.py::test_eagle_e2e_greedy_correctness
  - name: lazy_gsm8k_small_g2_tp1_eagle_spec_decode_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && VLLM_CONTIGUOUS_PA=false pytest -v tests/spec_decode/e2e/test_eagle_correctness.py::test_eagle_e2e_greedy_correctness
- name: test_deepseek_mtp
  steps:
  - name: eager_test_deepseek_mtp_correctness_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && VLLM_CONTIGUOUS_PA=false pytest -v tests/spec_decode/e2e/test_mtp_correctness.py::test_mtp_e2e_greedy_correctness
  - name: lazy_test_deepseek_mtp_correctness_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && VLLM_CONTIGUOUS_PA=false pytest -v tests/spec_decode/e2e/test_mtp_correctness.py::test_mtp_e2e_greedy_correctness
- name: tests_lora
  steps:
  - name: eager_test_llama_lora_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && VLLM_SKIP_WARMUP=true pytest -v tests/lora/test_llama_hpu.py::test_llama_lora_1x
  - name: lazy_test_llama_lora_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && VLLM_SKIP_WARMUP=true pytest -v tests/lora/test_llama_hpu.py::test_llama_lora_1x
  - name: eager_test_multilora_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && VLLM_SKIP_WARMUP=true pytest -v tests/lora/test_multilora_hpu.py::test_llama_multilora_1x
  - name: lazy_test_multilora_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && VLLM_SKIP_WARMUP=true pytest -v tests/lora/test_multilora_hpu.py::test_llama_multilora_1x
- name: tests_multimodal
  steps:
  - name: eager_multimodal_small_g3_tp1_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/vision && bash run-tests.sh -c configs/models-small.txt -t 1
  - name: lazy_multimodal_small_g3_tp1_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/vision && bash run-tests.sh -c configs/models-small.txt -t 1
  - name: eager_multimodal_small_g3_tp2_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/vision && bash run-tests.sh -c configs/models-small.txt -t 2
  - name: lazy_multimodal_small_g3_tp2_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/vision && bash run-tests.sh -c configs/models-small.txt -t 2
  - name: eager_multimodal_small_g3_tp1_mss_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/vision && bash run-tests.sh -c configs/models-mss.txt -t 1
  - name: lazy_multimodal_small_g3_tp1_mss_v0_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/vision && bash run-tests.sh -c configs/models-mss.txt -t 1
  - name: eager_multimodal_small_g3_tp2_mss_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/vision && bash run-tests.sh -c configs/models-mss.txt -t 2
  - name: lazy_multimodal_small_g3_tp2_mss_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/vision && bash run-tests.sh -c configs/models-mss.txt -t 2
  - name: eager_multimodal_llama4_scout_g3_tp2_ep_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/vision && bash run-tests.sh -c configs/models-llama4-scout.txt
      -t 2
  - name: lazy_multimodal_llama4_scout_g3_tp2_ep_v0_g3.s
    flavor: g3.s
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && cd .jenkins/vision && bash run-tests.sh -c configs/models-llama4-scout.txt
      -t 2
- name: tests_int4_quantization
  steps:
  - name: eager_test_awq_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && pytest -v tests/quantization/test_awq.py::test_awq
  - name: lazy_test_awq_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && pytest -v tests/quantization/test_awq.py::test_awq
  - name: eager_test_gptq_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && pytest -v tests/quantization/test_gptq.py::test_gptq
  - name: lazy_test_gptq_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && pytest -v tests/quantization/test_gptq.py::test_gptq
- name: tests_guided_decode
  steps:
  - name: eager_test_lazy_outlines_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && pip install -e tests/vllm_test_utils && pytest -v tests/entrypoints/llm/test_lazy_outlines.py
      -s -vvv --log-cli-level=INFO
  - name: lazy_test_lazy_outlines_v0_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=0 && export VLLM_SKIP_WARMUP=true
      && pip install -e tests/vllm_test_utils && pytest -v tests/entrypoints/llm/test_lazy_outlines.py
      -s -vvv --log-cli-level=INFO
- name: test_v1_basic_uts
  steps:
  - name: eager_test_v1_core_engine_worker_v1_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && pytest -v -s -vvv --log-cli-level=INFO tests/v1/core -k "not kv_connector"
      && pytest -v -s -vvv --log-cli-level=INFO tests/v1/engine && pytest -v -s -vvv
      --log-cli-level=INFO tests/v1/worker
  - name: eager_test_v1_core_engine_worker_v1_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=0 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && pytest -v -s -vvv --log-cli-level=INFO tests/v1/core -k "not kv_connector"
      && pytest -v -s -vvv --log-cli-level=INFO tests/v1/engine && pytest -v -s -vvv
      --log-cli-level=INFO tests/v1/worker
  - name: lazy_test_v1_core_engine_worker_v1_g2
    flavor: g2
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && pytest -v -s -vvv --log-cli-level=INFO tests/v1/core -k "not kv_connector"
      && pytest -v -s -vvv --log-cli-level=INFO tests/v1/engine && pytest -v -s -vvv
      --log-cli-level=INFO tests/v1/worker
  - name: lazy_test_v1_core_engine_worker_v1_g3
    flavor: g3
    command: export PT_HPU_LAZY_MODE=1 && export VLLM_USE_V1=1 && export VLLM_SKIP_WARMUP=true
      && pytest -v -s -vvv --log-cli-level=INFO tests/v1/core -k "not kv_connector"
      && pytest -v -s -vvv --log-cli-level=INFO tests/v1/engine && pytest -v -s -vvv
      --log-cli-level=INFO tests/v1/worker
